<div class="row-fluid">
    <div class="col-md-12 m-t-20 text-right sm-text-center">
        <button class="btn col-xs-12 pull-right col-md-3 m-b-20 btn-primary" ng-click="$ctrl.create()">Create new sequence</button>
    </div>
</div>


<div class="row-fluid">

    <!-- Sequence Repeatable Block -->
    <div class="col-md-12" ng-show="!$ctrl.sequences.length">
        <div class="panel panel-transparent">
            <div class="panel-heading">
                <div class="panel-title"></div>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="text-center ">
                        <h3>
                            You have no sequences. <br>You can use this
                            <button ng-click="$ctrl.create()" class="btn btn-sm btn-primary m-l-sm m-r-sm">Create Sequence</button>
                            button to create a new sequence.
                        </h3>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div ng-repeat="sequence in $ctrl.sequences" class="col-xs-3">
        <div class="panel panel-default">

            <!-- Title -->
            <div class="panel-heading separator sm-text-center">
                <div class="panel-title overflow-ellipsis" style="max-width: 100%">
                    {{ sequence.name }} &nbsp;
                </div>
                <div class="pull-right">
                    <a ng-click="$ctrl.edit(sequence)"><i class="fa fa-pencil"></i></a>
                </div>
            </div>

            <!-- Sequence Content -->
            <div class="panel-body p-t-10 sm-p-t-10 p-b-0 sm-p-b-0">

                <div class="container-sm-height">

                    <div class="row row-sm-height text-center">

                        <div class="col-xs-6 col-sm-height col-middle">
                            <div class="row">
                                <p class=" fs-12 m-b-0 hint-text">Subscribers</p>
                                <h4 class="semi-bold text-black font-montserrat m-t-0">{{ sequence.subscribers_count | number }}</h4>
                            </div>
                        </div>

                        <div class="col-xs-6 col-sm-height col-middle">
                            <div class="row">
                                <p class=" fs-12 m-b-0 hint-text">Messages</p>
                                <h4 class="semi-bold text-black font-montserrat m-t-0">{{ sequence.messages.length | number }}</h4>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Delete/Edit Buttons -->
            <div class="panel-body b-grey b-t p-t-10 sm-p-t-10 p-b-10 sm-p-b-10">

                <div class="container-sm-height">

                    <div class="row-fluid row-sm-height text-center">
                        <div class="col-xs-12 pull-right col-sm-height col-middle">
                            <div class="row text-right sm-text-center">
                                <a ui-sref="dashboard.sequence.edit({sequenceId: sequence.id})" class="btn inline btn-primary btn-sm">Edit</a>
                                <button class="btn inline btn-danger btn-sm" ng-click="$ctrl.delete(sequence)">Delete</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>
    <!-- Sequence Repeatable Block -->

</div>

<!-- Delete Sequence Modal -->
<div class="modal fade stick-up disable-scroll" id="modalDelSequence" tabindex="-1" role="dialog" aria-labelledby="modalDelSequence" aria-hidden="false">
    <div class="modal-dialog  modal-sm">
        <div class="modal-content-wrapper">

            <div class="modal-content">
                <div class="modal-header clearfix text-left">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-close fs-14"></i>
                    </button>
                    <h5>Delete Sequence</h5>
                </div>
                <div class="modal-body">
                    <p class="no-margin">Are you sure to <span class="bold text-danger">delete</span> this Sequence?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger btn-cons  pull-left inline" data-dismiss="modal">Delete</button>
                    <button type="button" class="btn btn-default btn-cons no-margin pull-left inline" data-dismiss="modal">Cancel</button>
                </div>
            </div>

        </div>
        <!-- /.modal-content -->
    </div>
</div>
<!-- Delete Sequence Modal /.modal-dialog -->


<!-- Delete Sequence Modal -->
<div class="modal disable-scroll" id="editSequence">
    <div class="modal-dialog modal-sm">
        <div class="modal-content-wrapper">
            <div class="modal-content">
                <div class="modal-header clearfix text-left">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-close fs-14"></i></button>
                    <h5>Create New Sequence</h5>
                </div>
                <div class="modal-body">
                    <form role="form">
                        <div class="form-group form-group-default ">
                            <label>Message Sequence Name</label>
                            <input type="text" class="form-control m-t-15 input-lg" ng-model="$ctrl.sequence.name" placeholder="Enter sequence name" style="margin-top: 5px;">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success btn-cons pull-left inline" ng-click="$ctrl.edit($ctrl.newSequence)">Create</button>
                    <button type="button" class="btn btn-default btn-cons no-margin pull-left inline" data-dismiss="modal">Cancel</button>
                </div>
            </div>

        </div>
        <!-- /.modal-content -->
    </div>
</div>
<!-- Delete Sequence Modal /.modal-dialog -->
